<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>rankclust Tutorial • rankclust</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="rankclust Tutorial">
<meta property="og:description" content="rankclust">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rankclust</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/overview.html">Overview</a>
</li>
<li>
  <a href="../articles/tutorial.html">Tutorial</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>rankclust Tutorial</h1>
            
      
      
      <div class="hidden name"><code>tutorial.Rmd</code></div>

    </div>

    
    
<p>In this tutorial, we demonstrate the key functionality of the
<code>rankclust</code> package on simulated data. The tutorial includes
code for random data generation, density calculation, and fitting of
Bayesian Bradley-Terry-Luce (BTL) models and Rank-Clustered BTL (RCBTL)
models. We begin by loading the packages necessary for these tasks.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pearce790.github.io/rankclust/">rankclust</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/reshape" class="external-link">reshape2</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="random-data-generation">Random Data Generation<a class="anchor" aria-label="anchor" href="#random-data-generation"></a>
</h2>
<p>We first generate samples from a BTL model in which some objects have
equal worth parameters (i.e., are “rank-clustered”). Specifically, we
will draw observations from <span class="math inline">\(I=200\)</span>
judges who each assess <span class="math inline">\(J=6\)</span> objects.
The true, underlying parameter worth values are <span class="math display">\[\omega =
\big(\frac{64}{105},\frac{16}{105},\frac{16}{105},\frac{4}{105},\frac{4}{105},\frac{1}{105}\big)\]</span>
We have chosen these values to sum to 1, but they need not! Our choice
of <span class="math inline">\(\omega\)</span> means that there are 4
rank-clusters: 2 singletons and 2 pairs. The true overall ordering of
objects would be <span class="math inline">\(1\prec\{2,3\}\prec\{4,5\}\prec6\)</span>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">Pi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rBTL.html">rBTL</a></span><span class="op">(</span>I<span class="op">=</span><span class="fl">200</span>,omega<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">64</span><span class="op">/</span><span class="fl">105</span>,<span class="fl">16</span><span class="op">/</span><span class="fl">105</span>,<span class="fl">16</span><span class="op">/</span><span class="fl">105</span>,<span class="fl">4</span><span class="op">/</span><span class="fl">105</span>,<span class="fl">4</span><span class="op">/</span><span class="fl">105</span>,<span class="fl">1</span><span class="op">/</span><span class="fl">105</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Pi</span>,<span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">#&gt; [1,]    1    3    2    6    5    4</span></span>
<span><span class="co">#&gt; [2,]    5    3    1    2    4    6</span></span>
<span><span class="co">#&gt; [3,]    3    1    5    2    4    6</span></span>
<span><span class="co">#&gt; [4,]    1    2    4    3    5    6</span></span></code></pre></div>
<p>We can see from the above output that the second judge placed object
5 in first place, object 3 in second place, object 1 in third place,
object 2 in fourth place, object 4 in fifth place, and object 6 in sixth
place.</p>
<p>Let’s visualize our observed rankings, <span class="math inline">\(\Pi\)</span>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/melt.html" class="external-link">melt</a></span><span class="op">(</span><span class="va">Pi</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">value</span>,fill<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">Var2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#F7FCF5"</span>,<span class="st">"#E5F5E0"</span>,<span class="st">"#A1D99B"</span>,<span class="st">"#74C476"</span>,<span class="st">"#238B45"</span>,<span class="st">"#006D2C"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Object"</span>,fill<span class="op">=</span><span class="st">"Rank Place"</span>,title<span class="op">=</span><span class="st">"Observed Ranks by Object"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>We can see in the above stacked barchart that object 1 receives the
most first-place votes, while objects 2 and 3 receive fewer first-place
places, but similar numbers of first-place votes between the two of
them. Knowing the true worth parameters, <span class="math inline">\(\omega\)</span>, this is unsurprising since
objects 2 and 3 are rank-clustered and jointly have the second-highest
object-level worth parameter. However, it can be hard to understand
potentially complex rank orderings based on marginal plots. Thus, we’ll
use statistical models to better estimate the relative preferences of
this (simulated) population.</p>
</div>
<div class="section level2">
<h2 id="model-estimation-and-assessment-standard-btl">Model Estimation and Assessment: Standard BTL<a class="anchor" aria-label="anchor" href="#model-estimation-and-assessment-standard-btl"></a>
</h2>
<p>Let’s now fit a standard BTL model to the observed rankings. We place
an independent Gamma(<span class="math inline">\(a_\gamma=3,b_\gamma=2\)</span>) prior on each
worth parameter, <span class="math inline">\(\omega_j\)</span>. Note
that we are running 2 chains of 1000 iterations, remove the first half
as burn-in, and perform no thinning. All posterior samples of <span class="math inline">\(\omega\)</span> are normalized post-hoc to sum to
1 (by default; can be changed using the <code>normalize_omega</code>
argument).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resBTL</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mcmc_BTL.html">mcmc_BTL</a></span><span class="op">(</span>Pi<span class="op">=</span><span class="va">Pi</span>,J<span class="op">=</span><span class="fl">6</span>,a_gamma<span class="op">=</span><span class="fl">3</span>,b_gamma<span class="op">=</span><span class="fl">2</span>,</span>
<span>                   num_iters<span class="op">=</span><span class="fl">1000</span>,chains<span class="op">=</span><span class="fl">2</span>,burn_prop <span class="op">=</span> <span class="fl">0.5</span>, thin <span class="op">=</span> <span class="fl">1</span>,seed <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Estimating chain 1 of 2."</span></span>
<span><span class="co">#&gt; [1] "Estimating chain 2 of 2."</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">resBTL</span><span class="op">)</span></span>
<span><span class="co">#&gt;   chain iteration    omega1    omega2    omega3     omega4     omega5</span></span>
<span><span class="co">#&gt; 1     1       501 0.5866994 0.1491845 0.1651737 0.04387851 0.04585898</span></span>
<span><span class="co">#&gt; 2     1       502 0.6162836 0.1498351 0.1452380 0.04470279 0.03562536</span></span>
<span><span class="co">#&gt; 3     1       503 0.6127107 0.1573117 0.1455899 0.03864798 0.03924107</span></span>
<span><span class="co">#&gt; 4     1       504 0.5711446 0.1701438 0.1702835 0.03932126 0.04257707</span></span>
<span><span class="co">#&gt; 5     1       505 0.5686603 0.1717451 0.1677084 0.04420377 0.04005833</span></span>
<span><span class="co">#&gt; 6     1       506 0.5963927 0.1543658 0.1549673 0.04521449 0.04141905</span></span>
<span><span class="co">#&gt;        omega6</span></span>
<span><span class="co">#&gt; 1 0.009204954</span></span>
<span><span class="co">#&gt; 2 0.008315110</span></span>
<span><span class="co">#&gt; 3 0.006498562</span></span>
<span><span class="co">#&gt; 4 0.006529828</span></span>
<span><span class="co">#&gt; 5 0.007624145</span></span>
<span><span class="co">#&gt; 6 0.007640620</span></span></code></pre></div>
<p>Next, we’ll view trace plots created by the package’s
<code>trace_ggplots</code> function (to assess convergence and mixing)
and posterior violin plots of the object-specific worth parameters
created by the package’s <code>posterior_ggplots</code> function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">traceplots</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trace_ggplots.html">trace_ggplots</a></span><span class="op">(</span>mcmc <span class="op">=</span> <span class="va">resBTL</span>,object_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Object "</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">traceplots</span><span class="op">$</span><span class="va">traceOmega</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Trace Plots: Standard BTL"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/posterior_ggplots.html">posterior_ggplots</a></span><span class="op">(</span>mcmc <span class="op">=</span> <span class="va">resBTL</span>,object_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Object "</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Posterior Violin Plots: Standard BTL"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/unnamed-chunk-5-2.png" width="700"></p>
<p>We can start to see some patterns emerging: Object 1 is most
preferred, followed by objects 2 and 3 (similarly preferred between
them), followed by objects 4 and 5 (similarly preferred between them),
followed by object 6 in last place. These similarities among groups,
however, are uncertain and not model-specified. This leads us to the
Rank-Clustered BTL, which is able to specifically infer rank-clusters of
objects based on the observed ranking data.</p>
</div>
<div class="section level2">
<h2 id="model-estimation-and-assessment-rank-clustered-btl">Model Estimation and Assessment: Rank-Clustered BTL<a class="anchor" aria-label="anchor" href="#model-estimation-and-assessment-rank-clustered-btl"></a>
</h2>
<p>We now fit a Rank-Clustered BTL model to the observed rankings. As
specified by the model, we place a PSSF prior with hyperparameters <span class="math inline">\(a_\gamma=3\)</span>, <span class="math inline">\(b_\gamma=2\)</span>, and <span class="math inline">\(\lambda=3\)</span> to be vague. Note that we are
running 2 chains of <code>num_iters</code>=500 outer iterations and
<code>nu_reps</code>=2 inner iterations for a total of 1000 iterations
per chain, but remove the first half as burn-in and perform no thinning.
All posterior samples of <span class="math inline">\(\omega\)</span> are
normalized post-hoc to sum to 1 (by default; can be changed using the
<code>normalize_omega</code> argument).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nu0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">resBTL</span><span class="op">[</span>,<span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">]</span>,<span class="fl">2</span>,<span class="va">mean</span><span class="op">)</span> <span class="co"># initialize at posterior mean of standard model</span></span>
<span><span class="va">resRCBTL</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mcmc_RCBTL.html">mcmc_RCBTL</a></span><span class="op">(</span>Pi<span class="op">=</span><span class="va">Pi</span>,J<span class="op">=</span><span class="fl">6</span>,a_gamma<span class="op">=</span><span class="fl">3</span>,b_gamma<span class="op">=</span><span class="fl">2</span>,lambda<span class="op">=</span><span class="fl">3</span>,nu0<span class="op">=</span><span class="va">nu0</span>,</span>
<span>                       num_iters<span class="op">=</span><span class="fl">500</span>,nu_reps<span class="op">=</span><span class="fl">2</span>,chains<span class="op">=</span><span class="fl">2</span>,burn_prop<span class="op">=</span><span class="fl">0.5</span>,thin<span class="op">=</span><span class="fl">1</span>,seed<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Estimating chain 1 of 2."</span></span>
<span><span class="co">#&gt; [1] "Estimating chain 2 of 2."</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">resRCBTL</span><span class="op">)</span></span>
<span><span class="co">#&gt;   chain iteration K    omega1    omega2    omega3     omega4     omega5</span></span>
<span><span class="co">#&gt; 1     1       501 4 0.5176336 0.1782277 0.1782277 0.05702493 0.05702493</span></span>
<span><span class="co">#&gt; 2     1       502 4 0.5430463 0.1716468 0.1716468 0.05097095 0.05097095</span></span>
<span><span class="co">#&gt; 3     1       503 4 0.5481608 0.1744917 0.1744917 0.04646537 0.04646537</span></span>
<span><span class="co">#&gt; 4     1       504 4 0.5576340 0.1681091 0.1681091 0.04772825 0.04772825</span></span>
<span><span class="co">#&gt; 5     1       505 4 0.5916405 0.1546080 0.1546080 0.04525227 0.04525227</span></span>
<span><span class="co">#&gt; 6     1       506 4 0.5723464 0.1630075 0.1630075 0.04662679 0.04662679</span></span>
<span><span class="co">#&gt;        omega6        nu1       nu2       nu3      nu4 nu5 nu6 G1 G2 G3 G4 G5 G6</span></span>
<span><span class="co">#&gt; 1 0.011861108 0.06721179 0.3231357 1.0099396 2.933206  NA  NA  4  3  3  2  2  1</span></span>
<span><span class="co">#&gt; 2 0.011718278 0.07075745 0.3077734 1.0364396 3.279029  NA  NA  4  3  3  2  2  1</span></span>
<span><span class="co">#&gt; 3 0.009925195 0.06226651 0.2915042 1.0946875 3.438931  NA  NA  4  3  3  2  2  1</span></span>
<span><span class="co">#&gt; 4 0.010691234 0.06856602 0.3060953 1.0781333 3.576270  NA  NA  4  3  3  2  2  1</span></span>
<span><span class="co">#&gt; 5 0.008638973 0.05391636 0.2824222 0.9649181 3.692464  NA  NA  4  3  3  2  2  1</span></span>
<span><span class="co">#&gt; 6 0.008385028 0.04999783 0.2780239 0.9719732 3.412759  NA  NA  4  3  3  2  2  1</span></span></code></pre></div>
<p>Next, we’ll view trace plots created by the package’s
<code>trace_ggplots</code> function (to assess convergence and mixing)
and posterior violin plots of the object-specific worth parameters
created by the package’s <code>posterior_ggplots</code> function.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">traceplotsRCBTL</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trace_ggplots.html">trace_ggplots</a></span><span class="op">(</span>mcmc<span class="op">=</span><span class="va">resRCBTL</span>,object_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Object "</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">traceplotsRCBTL</span><span class="op">$</span><span class="va">traceK</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Trace Plot of K: Rank-Clustered BTL"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">traceplotsRCBTL</span><span class="op">$</span><span class="va">traceOmega</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Trace Plots of Omega: Standard BTL"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/unnamed-chunk-7-2.png" width="700"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/posterior_ggplots.html">posterior_ggplots</a></span><span class="op">(</span>mcmc <span class="op">=</span> <span class="va">resRCBTL</span>,object_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Object "</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Posterior Violin Plots: Rank-Clustered BTL"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/unnamed-chunk-7-3.png" width="700"></p>
<p>Just as before, we can see that Object 1 is most preferred, followed
by objects 2 and 3 (similarly preferred between them), followed by
objects 4 and 5 (similarly preferred between them), and followed by
object 6 in last. How “similar” are these groups objects preferred? We
can see this by examining a posterior clustering matrix, as created by
the package’s <code>cluster_ggplots</code> function:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cluster_ggplots.html">cluster_ggplots</a></span><span class="op">(</span>mcmc <span class="op">=</span> <span class="va">resRCBTL</span>,object_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Object "</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Rank-Clustering Posterior Probabilities"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tutorial_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<p>Based on the above figure, we see that Objects 2 and 3 are
rank-clustered with high posterior probability, as are objects 4 and 5.
Objects 1 and 6 are in singleton clusters. This result precisely aligns
with the true rank-clustering of objects based on the <span class="math inline">\(\omega\)</span> that generated the rankings.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Michael Pearce, Elena Erosheva.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
